### Общие требования и ограничения на систему

**Общие требования:**

1. **Функциональность:**
    - Приём задач от пользователей.
    - Назначение уникального номера задачам.
    - Поиск исполнителей для задач.
    - Уведомление о статусе задачи и нахождении исполнителя.
    - Возможность запроса статуса задачи.
2. **Интерфейсы:**
    - Взаимодействие через консоль (с возможностью перехода на Discord API).
    - Команды для взаимодействия с ботом.
3. **Ограничения:**
    - Время на выполнение задачи указывается в минутах.
    - Задачи должны быть обработаны в течение указанного времени.
    - Первоначально не используется реальная база данных или внешние службы.
 
### Роли и прецеденты

**Роли:**

- **Пользователь**: Создаёт задачу и запрашивает её статус.
- **Бот**: Принимает задачи, назначает номера, ищет исполнителей и уведомляет о статусе.

**Прецеденты:**

- **Создание задачи**: Пользователь отправляет задачу.
- **Назначение номера задачи**: Бот назначает уникальный номер каждой новой задаче.
- **Поиск исполнителя**: Бот ищет исполнителя для задачи.
- **Запрос статуса задачи**: Пользователь запрашивает статус задачи.
- **Уведомление о статусе**: Бот уведомляет пользователя о статусе задачи и нахождении исполнителя.
### Сценарии использования

1. **Создание задачи:**
    - Пользователь отправляет команду: `создать задачу "описание задачи" срок`
    - Бот принимает команду, назначает номер и начинает поиск исполнителя.
2. **Запрос статуса задачи:**
    - Пользователь отправляет команду: `статус задача_номер`
    - Бот возвращает текущий статус задачи.
3. **Уведомление о нахождении исполнителя:**
    - Бот находит исполнителя и уведомляет пользователя.
  
### Описание основных компонентов системы

1. **ObjectiveProcessor**: Управляет задачами, хранит информацию о задачах и их статусах.
2. **Objective**: Класс, представляющий задачу (номер, описание, срок, статус).
3. **CommandParser**: Класс, обрабатывающий команды пользователя.
4. **Input**: Класс для парсинга команд, отправленных пользователем.

### Состояния компонентов, режимы работы, этапы

**Objective:**

- **Создана**: Задача создана и ожидает назначения исполнителя.
- **В процессе**: Идёт поиск исполнителя.
- **Исполнитель найден**: Найден исполнитель для задачи.
- **Завершена**: Задача выполнена.

**Режимы работы:**

- **Ожидание команд**: Бот ждёт команд от пользователя.
- **Обработка команды**: Бот обрабатывает полученную команду.
- **Поиск исполнителя**: Бот ищет исполнителя для задачи.

**Этапы:**

1. Создание задачи.
2. Назначение номера задачи.
3. Поиск исполнителя.
4. Уведомление пользователя.

**ExecutorFinder:**

- **Готов:** Система готова начать поиск исполнителя.
- **Поиск:** Система ищет подходящего исполнителя для задачи.
- **Исполнитель найден:** Найден исполнитель для задачи.
  
**Режимы работы:**

- **Готовность:** Система готова к началу поиска исполнителя.
- **Поиск исполнителя:** Система активно ищет исполнителя для задачи.
- **Исполнитель найден:** Система нашла и назначила исполнителя.

**Этапы:**

1. Переход в состояние готовности.
2. Начало поиска исполнителя.
3. Найден подходящий исполнитель.
4. Завершение поиска.

**Components:**

- **Input:** Компонент ввода данных от пользователя.
- **Output:** Компонент вывода данных пользователю.
  
**Логика:**

- **IInput:** Интерфейс для ввода данных.
- **IOutput:** Интерфейс для вывода данных.
- **CommandParser:** Компонент для парсинга команд.
- **IExecutorFinder:** Интерфейс для поиска исполнителя.
- **IStorage:** Интерфейс для работы с хранилищем данных.
- **ObjectiveProcessor:** Компонент для обработки задач.
  
**Инфраструктура:**

- **Storage:** Компонент хранилища данных.

**Поиск исполнителя:**

- **ChannelMessage:** Компонент для обработки сообщений канала.
- **PersonalMessage:** Компонент для обработки личных сообщений.
- **AssignAlgorithm:** Алгоритм назначения исполнителя.

**Взаимодействия:**

1. Input взаимодействует с IInput.
2. Output взаимодействует с IOutput.
3. IInput взаимодействует с CommandParser.
4. IOutput взаимодействует с CommandParser.
5. CommandParser взаимодействует с ObjectiveProcessor.
6. IExecutorFinder взаимодействует с ObjectiveProcessor.
7. IStorage взаимодействует с ObjectiveProcessor.
8. ChannelMessage, PersonalMessage, и AssignAlgorithm взаимодействуют с IExecutorFinder.
9. Storage взаимодействует с IStorage.

**CommandParser:**

**Компоненты:**

- **GetCommand:** Получение команды от пользователя.
- **SplitCommand:** Разделение команды на составляющие.

**Этапы:**

1. Получение команды от пользователя.
2. Разделение полученной команды на составляющие.

**BotState**

- **Инициализация:** Бот загружает конфигурацию и устанавливает соединение с необходимыми сервисами.
- **Ожидание команды:** Бот находится в режиме ожидания ввода команд от пользователя.
- **Обработка задачи:** Бот обрабатывает задачи, созданные пользователем или проверяет статус уже существующих задач.
- **Проверка задачи:** Бот проверяет статус задачи и отправляет результаты.
- **Обновление статуса:** Бот обновляет статус задачи на "завершено" или "не найдено".
- **Опрос исполнителя:** Бот начинает опрос исполнителя задачи.
- **Выход:** Бот завершает свою работу и выходит из системы.

**Режимы работы:**

- **Ожидание команд:** Бот ждёт команд от пользователя.
- **Обработка команды:** Бот обрабатывает полученную команду.
- **Проверка статуса задачи:** Бот проверяет статус задачи.
- **Обновление статуса задачи:** Бот обновляет статус задачи.
- **Опрос исполнителя:** Бот опрашивает исполнителя задачи.

**Этапы:**

1. Инициализация бота.
2. Ожидание команды от пользователя.
3. Обработка входящей задачи.
4. Проверка статуса задачи.
5. Обновление статуса задачи.
6. Опрос исполнителя задачи.
7. Завершение работы бота.
